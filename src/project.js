require=function e(t,i,c){function o(r,s){if(!i[r]){if(!t[r]){var a="function"==typeof require&&require;if(!s&&a)return a(r,!0);if(n)return n(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){var i=t[r][1][e];return o(i?i:e)},d,d.exports,e,t,i,c)}return i[r].exports}for(var n="function"==typeof require&&require,r=0;r<c.length;r++)o(c[r]);return o}({Dici:[function(e,t,i){"use strict";cc._RF.push(t,"78f32+92eFN7ar+ReB0bodq","Dici");var c=e("Player");cc.Class({"extends":cc.Component,properties:{dieAudio:{"default":null,url:cc.AudioClip}},setInputControl:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,i){var c=cc.moveBy(.2,cc.p(0,140));return e.node.runAction(c),!0}};cc.eventManager.addListener(t,e.node)},onLoad:function(){this.setInputControl()},noteBox:function(){return this.node.getBoundingBoxToWorld()},update:function(e){var t=cc.find("Canvas/normal").getComponent(c);cc.rectIntersectsRect(t.node.getBoundingBoxToWorld(),this.noteBox())&&(cc.audioEngine.playEffect(this.dieAudio,!1),cc.audioEngine.pauseMusic(),cc.director.loadScene("OverScene"))}}),cc._RF.pop()},{Player:"Player"}],Main:[function(e,t,i){"use strict";cc._RF.push(t,"7dbfcc0B9hE/at270pnFGPR","Main"),cc.Class({"extends":cc.Component,properties:{player:{"default":null,type:cc.Node},dici:{"default":null,type:cc.Prefab},timeLabel:{"default":null,type:cc.Label},scoreLabel:{"default":null,type:cc.Label},bgAudio:{"default":null,url:cc.AudioClip},jumpAudio:{"default":null,url:cc.AudioClip},dieAudio:{"default":null,url:cc.AudioClip},score:0,playerJumpHeight:30,wallWidth:80,diciCount:0,dici_duration:140,gameTime:60},playerMoveRight:function(){var e=cc.moveTo(.2,cc.p(this.node.width/2-this.wallWidth,this.player.getPositionY())),t=cc.moveTo(.1,cc.p(this.node.width/2-this.wallWidth-30,this.player.getPositionY())),i=cc.moveTo(.1,cc.p(this.node.width/2-this.wallWidth,this.player.getPositionY())),c=cc.sequence(t,i);180===this.player.rotationY?this.player.runAction(c):this.player.runAction(e),this.player.rotationY=180},playerMoveLeft:function(){var e=cc.moveTo(.2,cc.p(-this.node.width/2+this.wallWidth,this.player.getPositionY())),t=cc.moveTo(.1,cc.p(-this.node.width/2+this.wallWidth+30,this.player.getPositionY())),i=cc.moveTo(.1,cc.p(-this.node.width/2+this.wallWidth,this.player.getPositionY())),c=cc.sequence(t,i);0===this.player.rotationY?this.player.runAction(c):this.player.runAction(e),this.player.rotationY=0},setInputControl:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,i){cc.audioEngine.playEffect(e.jumpAudio,!1);var c=i.getCurrentTarget(),o=c.convertToNodeSpace(t.getLocation());o.x>e.node.width/2?e.playerMoveRight():e.playerMoveLeft(),e.newDici(),e.score++,e.scoreLabel.string=e.score,cc.sys.localStorage.setItem("score",e.score)},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){}};cc.eventManager.addListener(t,e.node)},newDici:function c(){this.diciCount++;var c=cc.instantiate(this.dici);this.node.addChild(c);var e=cc.random0To1();e>=.5?c.rotationY=0:c.rotationY=180,c.setPosition(this.diciPosition(e))},diciPosition:function(e){var t=0,i=0;return t=e>=.5?this.node.width/2-this.wallWidth:-this.node.width/2+this.wallWidth,i=this.diciCount<=8?this.node.height/2-this.dici_duration*this.diciCount-this.dici_duration:this.node.height/2-8*this.dici_duration-this.dici_duration,cc.p(t,i)},onLoad:function(){this.diciCount=0,cc.audioEngine.setEffectsVolume(.2),cc.audioEngine.playMusic(this.bgAudio,!0),this.setInputControl(),this.player.setPosition(-this.node.width/2+this.wallWidth,this.node.height/2-175);for(var e=0;e<8;e++)this.newDici();cc.director.preloadScene("OverScene"),this.schedule(function(){this.gameTime--,this.timeLabel.string="倒计时:"+this.gameTime,this.gameTime<=0&&(cc.audioEngine.pauseMusic(),cc.director.loadScene("OverScene"))},1)}}),cc._RF.pop()},{}],Over:[function(e,t,i){"use strict";cc._RF.push(t,"580f2vM/ZRD66ppwzOZPxzR","Over"),cc.Class({"extends":cc.Component,properties:{button:{"default":null,type:cc.Node},scoreLabel:{"default":null,type:cc.Label}},onLoad:function(){cc.director.preloadScene("MainScene"),this.button.on("touchstart",function(){cc.director.loadScene("MainScene")});var e=cc.sys.localStorage.getItem("score");this.scoreLabel.string="最终得分: "+e}}),cc._RF.pop()},{}],Player:[function(e,t,i){"use strict";cc._RF.push(t,"2539dHbQkxN6IbiH1J54jPG","Player"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],Welcome:[function(e,t,i){"use strict";cc._RF.push(t,"75051qzSa1JxImTJt8KzymO","Welcome"),cc.Class({"extends":cc.Component,properties:{startBtn:{"default":null,type:cc.Node}},onLoad:function(){var e=cc.scaleTo(.8,.9),t=cc.scaleTo(.8,1),i=cc.sequence(e,t),c=cc.repeatForever(i);this.startBtn.runAction(c),cc.director.preloadScene("MainScene"),this.startBtn.on("touchstart",function(){cc.director.loadScene("MainScene")})}}),cc._RF.pop()},{}]},{},["Dici","Main","Over","Player","Welcome"]);